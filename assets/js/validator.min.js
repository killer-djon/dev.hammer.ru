/*!
 * Validator v0.10.2 for Bootstrap 3, by @1000hz
 * Copyright 2016 Cina Saffary
 * Licensed under http://opensource.org/licenses/MIT
 *
 * https://github.com/1000hz/bootstrap-validator
 */
+function(g){function f(a){return a.is('[type="checkbox"]')?a.prop("checked"):a.is('[type="radio"]')?!!g('[name="'+a.attr("name")+'"]:checked').length:g.trim(a.val())}function j(a){return this.each(function(){var k=g(this),d=g.extend({},i.DEFAULTS,k.data(),"object"==typeof a&&a),b=k.data("bs.validator");(b||"destroy"!=a)&&(b||k.data("bs.validator",b=new i(this,d)),"string"==typeof a&&b[a]())})}var i=function(d,b){this.options=b,this.$element=g(d),this.$inputs=this.$element.find(i.INPUT_SELECTOR),this.$btn=g('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]')),b.errors=g.extend({},i.DEFAULTS.errors,b.errors);for(var a in b.custom){if(!b.errors[a]){throw new Error("Missing default error message for custom validator: "+a)}}g.extend(i.VALIDATORS,b.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",i.INPUT_SELECTOR,g.proxy(this.onInput,this)),this.$element.on("submit.bs.validator",g.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var k=g(this),e=k.data("match");g(e).on("input.bs.validator",function(){f(k)&&k.trigger("input.bs.validator")})})};i.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible',i.FOCUS_OFFSET=20,i.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},i.VALIDATORS={"native":function(d){var c=d[0];return c.checkValidity?c.checkValidity():!0},match:function(a){var d=a.data("match");return !a.val()||a.val()===g(d).val()},minlength:function(d){var c=d.data("minlength");return !d.val()||d.val().length>=c}},i.prototype.onInput=function(a){var m=this,l=g(a.target),k="focusout"!==a.type;this.validateInput(l,k).done(function(){m.toggleSubmit()})},i.prototype.validateInput=function(o,n){var m=f(o),l=o.data("bs.validator.previous"),k=o.data("bs.validator.errors");if(l===m){return g.Deferred().resolve()}o.data("bs.validator.previous",m),o.is('[type="radio"]')&&(o=this.$element.find('input[name="'+o.attr("name")+'"]'));var b=g.Event("validate.bs.validator",{relatedTarget:o[0]});if(this.$element.trigger(b),!b.isDefaultPrevented()){var a=this;return this.runValidators(o).done(function(c){o.data("bs.validator.errors",c),c.length?n?a.defer(o,a.showErrors):a.showErrors(o):a.clearErrors(o),k&&c.toString()===k.toString()||(b=c.length?g.Event("invalid.bs.validator",{relatedTarget:o[0],detail:c}):g.Event("valid.bs.validator",{relatedTarget:o[0],detail:k}),a.$element.trigger(b)),a.toggleSubmit(),a.$element.trigger(g.Event("validated.bs.validator",{relatedTarget:o[0]}))})}},i.prototype.runValidators=function(l){function k(c){return l.data(c+"-error")||l.data("error")||"native"==c&&l[0].validationMessage||a.errors[c]}var d=[],b=g.Deferred(),a=this.options;return l.data("bs.validator.deferred")&&l.data("bs.validator.deferred").reject(),l.data("bs.validator.deferred",b),g.each(i.VALIDATORS,g.proxy(function(c,m){if((f(l)||l.attr("required"))&&(l.data(c)||"native"==c)&&!m.call(this,l)){var e=k(c);!~d.indexOf(e)&&d.push(e)}},this)),!d.length&&f(l)&&l.data("remote")?this.defer(l,function(){var c={};c[l.attr("name")]=f(l),g.get(l.data("remote"),c).fail(function(m,e,n){d.push(k("remote")||n)}).always(function(){b.resolve(d)})}):b.resolve(d),b.promise()},i.prototype.validate=function(){var a=this;return g.when(this.$inputs.map(function(){return a.validateInput(g(this),!1)})).then(function(){a.toggleSubmit(),a.focusError()}),this},i.prototype.focusError=function(){if(this.options.focus){var a=g(".has-error:first :input");0!==a.length&&(g(document.body).animate({scrollTop:a.offset().top-i.FOCUS_OFFSET},250),a.focus())}},i.prototype.showErrors=function(a){var o=this.options.html?"html":"text",n=a.data("bs.validator.errors"),m=a.closest(".form-group"),l=m.find(".help-block.with-errors"),k=m.find(".form-control-feedback");n.length&&(n=g("<ul/>").addClass("list-unstyled").append(g.map(n,function(c){return g("<li/>")[o](c)})),void 0===l.data("bs.validator.originalContent")&&l.data("bs.validator.originalContent",l.html()),l.empty().append(n),m.addClass("has-error has-danger"),m.hasClass("has-feedback")&&k.removeClass(this.options.feedback.success)&&k.addClass(this.options.feedback.error)&&m.removeClass("has-success"))},i.prototype.clearErrors=function(b){var m=b.closest(".form-group"),l=m.find(".help-block.with-errors"),k=m.find(".form-control-feedback");l.html(l.data("bs.validator.originalContent")),m.removeClass("has-error has-danger"),m.hasClass("has-feedback")&&k.removeClass(this.options.feedback.error)&&f(b)&&k.addClass(this.options.feedback.success)&&m.addClass("has-success")},i.prototype.hasErrors=function(){function a(){return !!(g(this).data("bs.validator.errors")||[]).length}return !!this.$inputs.filter(a).length},i.prototype.isIncomplete=function(){function a(){return !f(g(this))}return !!this.$inputs.filter("[required]").filter(a).length},i.prototype.onSubmit=function(b){this.validate(),(this.isIncomplete()||this.hasErrors())&&b.preventDefault()},i.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||this.hasErrors())},i.prototype.defer=function(a,d){return d=g.proxy(d,this,a),this.options.delay?(window.clearTimeout(a.data("bs.validator.timeout")),void a.data("bs.validator.timeout",window.setTimeout(d,this.options.delay))):d()},i.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator").find(".form-control-feedback").removeClass([this.options.feedback.error,this.options.feedback.success].join(" ")),this.$inputs.off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred","bs.validator.previous"]).each(function(){var a=g(this),d=a.data("bs.validator.timeout");window.clearTimeout(d)&&a.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var a=g(this),d=a.data("bs.validator.originalContent");a.removeData("bs.validator.originalContent").html(d)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error, .has-danger").removeClass("has-error has-danger"),this};var h=g.fn.validator;g.fn.validator=j,g.fn.validator.Constructor=i,g.fn.validator.noConflict=function(){return g.fn.validator=h,this},g(window).on("load",function(){g('form[data-toggle="validator"]').each(function(){var a=g(this);j.call(a,a.data())})})}(jQuery);